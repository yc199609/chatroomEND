(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af00599"],{"0b90":function(t,e,i){"use strict";var n=i("8f28"),s=i.n(n);s.a},"7abe":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",[i("el-main",[i("el-card",{staticClass:"card"},[i("div",{staticStyle:{"text-align":"right",height:"40px"}},[t._v(t._s(t.userName))]),i("div",{staticClass:"searchBox"},[i("el-input",{staticClass:"searchInput",attrs:{type:"text",placeholder:"请输入内容",maxlength:"90"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("el-button",{staticClass:"searchBtn",attrs:{type:"primary",plain:""},on:{click:t.addItem}},[t._v("确认")])],1),t._l(t.list,function(e,n){return i("el-card",{key:n,staticClass:"listcard",attrs:{"body-style":{width:"100%",display:"flex","flex-direction":"row","justify-content":"space-between","margin-bottom":"10px"}}},[i("div",{staticClass:"cardContent"},[i("span",{staticStyle:{"margin-right":"20px"}},[t._v(t._s(e.user.userName+":"))]),"edit"===e.mode?i("div",[i("el-input",{model:{value:e.title,callback:function(i){t.$set(e,"title",i)},expression:"item.title"}}),i("el-button",{on:{click:function(i){return t.update(e)}}},[t._v("修改")])],1):i("div",[i("span",{on:{click:function(i){return t.edit(e)}}},[t._v(t._s(e.title))])])]),e.user._id===t.userId?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.deleteItem(e)}}},[t._v("点击删除")]):t._e()],1)})],2)],1)],1)},s=[],a=i("b775"),c={getList:"/api/item/getList",addItem:"/api/item/addItem",deteleById:"/api/item/deteleItem",updateById:"/api/item/updateItem"};function u(t){return Object(a["a"])({url:c.getList,method:"get",params:{userid:t}})}function d(t){return Object(a["a"])({url:c.addItem,method:"post",data:t})}function r(t){return Object(a["a"])({url:c.deteleById,method:"post",data:{id:t}})}function o(t){return Object(a["a"])({url:c.updateById,method:"post",data:t})}var l=i("5f87"),m={name:"app",data:function(){return{userId:"",userName:"",text:"",list:[{title:"",mode:"",user:""}]}},created:function(){this.userId=Object(l["b"])(),this.userName=Object(l["a"])()},mounted:function(){this.init()},methods:{init:function(t){var e=this;u(t).then(function(t){e.$set(e,"list",t.data)})},addItem:function(){var t=this;d({title:this.text,userId:this.userId}).then(function(e){t.message(e,function(){t.text="",t.init()})})},deleteItem:function(t){var e=this;r(t._id).then(function(t){e.message(t,function(){e.init()})})},update:function(t){var e=this;o({title:t.title,id:t._id}).then(function(i){e.message(i,function(){e.$set(t,"mode","show"),e.init()})})},edit:function(t){t.user._id===this.userId&&this.$set(t,"mode","edit")},message:function(t,e){0===t.code&&this.$message({type:"success",message:"成功",duration:500,onClose:function(){e()}})}}},f=m,p=(i("0b90"),i("2877")),h=Object(p["a"])(f,n,s,!1,null,"2a147bcc",null);e["default"]=h.exports},"8f28":function(t,e,i){}}]);